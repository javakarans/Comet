<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
 
<h:head>
    <title>JSF 2.2 TUTORIALS</title>
</h:head>

<h:body>

    <ui:composition template="#{applicationBean.loadTemplate(customer)}">

        <ui:define name="content">

            <link rel="stylesheet" href="../resources/css/productContent.css"></link>

            <b:container style="margin-top:-8px;">

                <b:row>
                    <b:column colSm="12">
                        <b:panel collapsible="false" styleClass="topPanel">
                            <b:iconAwesome name="th-large"></b:iconAwesome>
                            <h:outputText value="لوازم الکترونیکی 1" style="margin-right: 10px"></h:outputText>
                            <b:iconAwesome name="caret-left" style="margin-right:20px;"></b:iconAwesome>
                            <h:outputText value="برند 1" style="margin-right: 10px"></h:outputText>
                            <b:iconAwesome name="caret-left" style="margin-right:20px;"></b:iconAwesome>
                            <h:outputText value="نوع 1" style="margin-right: 10px"></h:outputText>
                            <b:iconAwesome name="caret-left" style="margin-right:20px;"></b:iconAwesome>
                            <h:outputText value="محصول 1" style="margin-right: 10px"></h:outputText>
                        </b:panel>
                    </b:column>

                    <!-- First Panel -->
                    <b:column colSm="12" style="margin-top:-11px;">

                        <b:panel>
                            <b:row>
                                <b:column colSm="4">
                                    <div id="panel_images">
                                        <b:row>
                                            <b:carousel id="product-img">
                                                <!-- Slide1 -->
                                                <b:carouselItem>
                                                    <b:image value="../resources/images/sample1.jpg"
                                                             colXs="12"></b:image>
                                                </b:carouselItem>
                                                <!-- Slide2 -->
                                                <b:carouselItem>
                                                    <b:image value="../resources/images/sample1.jpg"
                                                             colXs="12"></b:image>
                                                </b:carouselItem>
                                                <!-- Slide3 -->
                                                <b:carouselItem>
                                                    <b:image value="../resources/images/sample1.jpg"
                                                             colXs="12"></b:image>
                                                </b:carouselItem>
                                            </b:carousel>
                                        </b:row>
                                    </div>
                                </b:column>

                                <b:column colSm="8">
                                    <b:form>
                                        <b:panelGrid colSpans="12" size="xs">
                                            <div id="product_header">
                                                <span class="first">#{productContentBean.product.name}</span>
                                                <h5><span>#{productContentBean.product.englishName}</span></h5>
                                            </div>
                                            <b:row style="margin-top:25px;">
                                                <b:selectOneMenu span="5" style="height:auto;" label="انتخاب رنگ"
                                                                 labelStyle="color:#848484;">
                                                    <f:selectItem itemLabel="لطفا انتخاب کنید" itemValue=""/>
                                                    <f:selectItem itemLabel="رنگ 1" itemValue="1"/>
                                                    <f:selectItem itemLabel="زنگ 2" itemValue="2"/>
                                                </b:selectOneMenu>
                                            </b:row>
                                            <b:row style="margin-top:25px;">
                                                <b:selectOneMenu span="5" style="height:auto;" label="انتخاب گارانتی"
                                                                 labelStyle="color:#848484;">
                                                    <f:selectItem itemLabel="لطفا انتخاب کنید" itemValue=""/>
                                                    <f:selectItem itemLabel="#{productContentBean.product.warranty}"
                                                                  itemValue="#{productContentBean.product.warranty}"/>
                                                </b:selectOneMenu>
                                            </b:row>
                                            <b:row style="margin-top:25px;">
                                                <b:selectOneMenu span="5" style="height:auto;" label="انتخاب فروشنده"
                                                                 labelStyle="color:#848484;">
                                                    <f:selectItem itemLabel="کامت" itemValue="کامت"/>
                                                </b:selectOneMenu>
                                            </b:row>
                                            <b:row style="margin-top:25px;">
                                                <b:column colSm="12">
                                                    <span style="color:#848484;margin-left: 10px">قیمت : </span>
                                                    <h:outputText value="#{productContentBean.product.price} تومان"
                                                                  style="margin-left: 20px;color:#848484;">
                                                        <f:convertNumber pattern="#"></f:convertNumber>
                                                    </h:outputText>
                                                    <b:label severity="danger"
                                                             text="تخفیف : #{productContentBean.product.discount}">
                                                        <!--<f:convertNumber pattern="#"></f:convertNumber>-->
                                                    </b:label>
                                                </b:column>
                                            </b:row>
                                            <b:row style="margin-top:50px;">
                                                <b:column colSm="12">
                                                    <span style="font-size: 20px">قیمت برای شما : </span>
                                                    <h:outputText value="#{productContentBean.productController
                                                    .calProductPriceByDiscount(productContentBean.product.price
                                                    ,productContentBean.product.discount)}"
                                                                  style="font-size: 20px">
                                                        <f:convertNumber pattern="#"></f:convertNumber>
                                                    </h:outputText>
                                                    <span style="font-size: 20px">تومان </span>
                                                </b:column>
                                            </b:row>
                                            <b:row style="margin-top:40px;">
                                                <b:column colSm="12">
                                                    <b:commandButton style="width:165px;" look="success" action="#{productContentBean.addProductToCart(productContentBean.product)}">
                                                        <b:iconAwesome name="cart-plus" size=""></b:iconAwesome>
                                                        <span style="margin-right: 10px">افزودن به سبد خرید</span>
                                                    </b:commandButton>
                                                </b:column>
                                            </b:row>
                                        </b:panelGrid>
                                    </b:form>
                                </b:column>
                            </b:row>

                        </b:panel>
                    </b:column>
                    <!-- First Panel -->

                    <!-- Second Panel -->
                    <b:column colSm="12" style="margin-top:-11px;">
                        <b:panel>
                            <b:tabView activeIndex="0">

                                <b:tab title="معرفی و بررسی محصول">
                                    <f:facet name="anchor"><b:iconAwesome name="pencil-square-o"/></f:facet>
                                    <div style="margin-top: 30px">
                                        <h:outputText value="#{productContentBean.product.description}"></h:outputText>
                                    </div>
                                </b:tab>

                                <b:tab title="مشخصات فنی">
                                    <f:facet name="anchor"><b:iconAwesome name="cog"/></f:facet>
                                    <div style="margin-top: 30px">
                                        <ui:repeat value="#" var="itemHeader">
                                            <b:row>
                                                <b:column colSm="12">
                                                    <b:iconAwesome name="caret-left"
                                                                   style="margin-left:20px;"></b:iconAwesome>
                                                    <h:outputText value="نوع مشخصات"
                                                                  style="font-size: 20px"></h:outputText>
                                                </b:column>
                                            </b:row>
                                            <b:row style="margin-top:30px;margin-bottom:30px;">
                                                <ui:repeat value="#" var="item">
                                                    <div>
                                                        <b:column colSm="3">
                                                            <div class="item-right">
                                                                <h:outputText value="آیتم"></h:outputText>
                                                            </div>
                                                        </b:column>
                                                        <b:column colSm="9" style="margin-bottom:10px;">
                                                            <div class="item-left">
                                                                <h:outputText value="مقدار"></h:outputText>
                                                            </div>
                                                        </b:column>
                                                    </div>
                                                </ui:repeat>
                                            </b:row>

                                        </ui:repeat>
                                    </div>
                                </b:tab>

                                <b:tab title="نظرات کاربران">
                                    <f:facet name="anchor"><b:iconAwesome name="comments-o"/></f:facet>
                                    <b:row style="margin-top: 30px" rendered="false">
                                        <b:column colSm="12">
                                            <span>برای ثبت نظر جدید ابتدا وارد کامت شوید!</span>
                                        </b:column>
                                    </b:row>
                                    <b:row style="margin-top: 20px" rendered="true">
                                        <b:column colSm="12">
                                            <button id="btrigger" class="btn btn-info btn-md"
                                                    onclick="PF('dlg2').show();">
                                                <b:iconAwesome name="edit"></b:iconAwesome>
                                                <span>ثبت نظر</span>
                                            </button>
                                        </b:column>
                                    </b:row>
                                    <div style="margin-top: 20px">
                                        <b:form>
                                            <ui:repeat value="#{productContentBean.loadComments()}" var="userComment">
                                                <b:row style="margin-top:20px;">
                                                    <b:column colSm="12">
                                                        <b:panel collapsible="false" styleClass="userComment-panel">
                                                            <f:facet name="heading">
                                                                <b:row>
                                                                    <b:column colSm="8">
                                                                        <h:outputText
                                                                                value="#{userComment.customerName}"></h:outputText>
                                                                        <h5>#{userComment.createdDate}</h5>
                                                                    </b:column>
                                                                    <b:column colSm="4">

                                                                        <h:panelGrid columns="3"
                                                                                     columnClasses="uCPCol1,uCPCol2,uCPCol3"
                                                                                     style="margin-top: 15px">

                                                                            <h:outputText
                                                                                    value="آیا این نظر مورد پسند شما بود؟"></h:outputText>

                                                                            <b:commandButton
                                                                                    value="#{userComment.likeCount}"
                                                                                    iconAwesome="thumbs-o-up"
                                                                                    look="success" size="xs"
                                                                                    update="@form"
                                                                                    action="#{productContentBean.commentController.increaseLike(userComment.commentId)}">
                                                                            </b:commandButton>

                                                                            <b:commandButton
                                                                                    value="#{userComment.disLikeCount}"
                                                                                    iconAwesome="thumbs-o-down"
                                                                                    look="danger" size="xs"
                                                                                    update="@form"
                                                                                    action="#{productContentBean.commentController.increaseDisLike(userComment.commentId)}">
                                                                            </b:commandButton>

                                                                        </h:panelGrid>

                                                                    </b:column>
                                                                </b:row>
                                                            </f:facet>
                                                            <div>
                                                                <h:outputText
                                                                        value="#{userComment.text}"></h:outputText>
                                                            </div>
                                                        </b:panel>
                                                    </b:column>
                                                </b:row>
                                            </ui:repeat>
                                        </b:form>
                                    </div>
                                </b:tab>

                            </b:tabView>

                        </b:panel>

                    </b:column>
                    <!-- Second Panel -->

                </b:row>
            </b:container>

        </ui:define>

    </ui:composition>

</h:body>

</html>